<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
    <center>
        <h1>Parcial final de PW</h1>
        <form action="" method="post" name="formInsert" id="formInsert">
            <input type="text" placeholder="Marca">
            <input type="text" placeholder="Modelo">
            <input type="text" placeholder="Año">
            <input type="submit" value="Agregar">
        </form>
</center>
    <center>
        <table>
        <thead>
            <tr>
                <th>Marca</th>
                <th>Modelo</th>
                <th>Año</th>
                <th>Opciones</th>
            </tr>
        </thead>
        <tbody id="filas"></tbody>
    </table>
</center>
    <form>

    </form>
<script>
    console.log("Pueba")
mostrar()
function mostrar(){
    fetch('/api/carro', {
        method: 'GET'
    }).then(res=>res.json())
    .then(datos=>{
        let filas = "";
        datos.forEach(element => {
            filas = filas + `
            <td>${element.marca}</td>
            <td>${element.modelo}</td>
            <td>${element.anio}</td>
            <td><a class="update" href="/api/carro/${element._id}">Actualizar</a> | <a class="delete" href="/api/carro/${element._id}">Eliminar</a></td>
            </tr>
            `
        })
        document.querySelector("#filas").innerHTML = filas;
    })    
}

</script>
</body>
</html>